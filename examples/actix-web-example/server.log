   Compiling sa-token-macro v0.1.4 (/Users/m1pro/rustproject/sa-token-rust/sa-token-macro)
   Compiling sa-token-plugin-actix-web v0.1.4 (/Users/m1pro/rustproject/sa-token-rust/sa-token-plugin-actix-web)
   Compiling actix-web-example v0.1.0 (/Users/m1pro/rustproject/sa-token-rust/examples/actix-web-example)
warning: unexpected `cfg` condition value: `sa-token-metadata`
   --> src/main.rs:211:1
    |
211 | #[sa_ignore]
    | ^^^^^^^^^^^^
    |
    = note: expected values for `feature` are: `default`, `memory`, `redis`, and `sa-token-storage-redis`
    = note: using a cfg inside a attribute macro will use the cfgs from the destination crate and not the ones from the defining crate
    = help: try referring to `sa_ignore` crate for guidance on how handle this unexpected cfg
    = help: the attribute macro `sa_ignore` may come from an old version of the `sa_token_macro` crate, try updating your dependency with `cargo update -p sa_token_macro`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: `#[warn(unexpected_cfgs)]` on by default
    = note: this warning originates in the attribute macro `sa_ignore` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `sa-token-metadata`
   --> src/main.rs:216:1
    |
216 | #[sa_ignore]
    | ^^^^^^^^^^^^
    |
    = note: expected values for `feature` are: `default`, `memory`, `redis`, and `sa-token-storage-redis`
    = note: using a cfg inside a attribute macro will use the cfgs from the destination crate and not the ones from the defining crate
    = help: try referring to `sa_ignore` crate for guidance on how handle this unexpected cfg
    = help: the attribute macro `sa_ignore` may come from an old version of the `sa_token_macro` crate, try updating your dependency with `cargo update -p sa_token_macro`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: this warning originates in the attribute macro `sa_ignore` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `sa-token-metadata`
   --> src/main.rs:225:1
    |
225 | #[sa_ignore]
    | ^^^^^^^^^^^^
    |
    = note: expected values for `feature` are: `default`, `memory`, `redis`, and `sa-token-storage-redis`
    = note: using a cfg inside a attribute macro will use the cfgs from the destination crate and not the ones from the defining crate
    = help: try referring to `sa_ignore` crate for guidance on how handle this unexpected cfg
    = help: the attribute macro `sa_ignore` may come from an old version of the `sa_token_macro` crate, try updating your dependency with `cargo update -p sa_token_macro`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: this warning originates in the attribute macro `sa_ignore` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `sa-token-metadata`
   --> src/main.rs:239:1
    |
239 | #[sa_check_login]
    | ^^^^^^^^^^^^^^^^^
    |
    = note: expected values for `feature` are: `default`, `memory`, `redis`, and `sa-token-storage-redis`
    = note: using a cfg inside a attribute macro will use the cfgs from the destination crate and not the ones from the defining crate
    = help: try referring to `sa_check_login` crate for guidance on how handle this unexpected cfg
    = help: the attribute macro `sa_check_login` may come from an old version of the `sa_token_macro` crate, try updating your dependency with `cargo update -p sa_token_macro`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: this warning originates in the attribute macro `sa_check_login` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `sa-token-metadata`
   --> src/main.rs:265:1
    |
265 | #[sa_check_login]
    | ^^^^^^^^^^^^^^^^^
    |
    = note: expected values for `feature` are: `default`, `memory`, `redis`, and `sa-token-storage-redis`
    = note: using a cfg inside a attribute macro will use the cfgs from the destination crate and not the ones from the defining crate
    = help: try referring to `sa_check_login` crate for guidance on how handle this unexpected cfg
    = help: the attribute macro `sa_check_login` may come from an old version of the `sa_token_macro` crate, try updating your dependency with `cargo update -p sa_token_macro`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: this warning originates in the attribute macro `sa_check_login` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `sa-token-metadata`
   --> src/main.rs:273:1
    |
273 | #[sa_check_permission("user:list")]
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: expected values for `feature` are: `default`, `memory`, `redis`, and `sa-token-storage-redis`
    = note: using a cfg inside a attribute macro will use the cfgs from the destination crate and not the ones from the defining crate
    = help: try referring to `sa_check_permission` crate for guidance on how handle this unexpected cfg
    = help: the attribute macro `sa_check_permission` may come from an old version of the `sa_token_macro` crate, try updating your dependency with `cargo update -p sa_token_macro`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: this warning originates in the attribute macro `sa_check_permission` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `sa-token-metadata`
   --> src/main.rs:293:1
    |
293 | #[sa_check_permission("user:delete")]
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: expected values for `feature` are: `default`, `memory`, `redis`, and `sa-token-storage-redis`
    = note: using a cfg inside a attribute macro will use the cfgs from the destination crate and not the ones from the defining crate
    = help: try referring to `sa_check_permission` crate for guidance on how handle this unexpected cfg
    = help: the attribute macro `sa_check_permission` may come from an old version of the `sa_token_macro` crate, try updating your dependency with `cargo update -p sa_token_macro`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: this warning originates in the attribute macro `sa_check_permission` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `sa-token-metadata`
   --> src/main.rs:306:1
    |
306 | #[sa_check_role("admin")]
    | ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: expected values for `feature` are: `default`, `memory`, `redis`, and `sa-token-storage-redis`
    = note: using a cfg inside a attribute macro will use the cfgs from the destination crate and not the ones from the defining crate
    = help: try referring to `sa_check_role` crate for guidance on how handle this unexpected cfg
    = help: the attribute macro `sa_check_role` may come from an old version of the `sa_token_macro` crate, try updating your dependency with `cargo update -p sa_token_macro`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: this warning originates in the attribute macro `sa_check_role` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `sa-token-metadata`
   --> src/main.rs:325:1
    |
325 | #[sa_check_role("admin")]
    | ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: expected values for `feature` are: `default`, `memory`, `redis`, and `sa-token-storage-redis`
    = note: using a cfg inside a attribute macro will use the cfgs from the destination crate and not the ones from the defining crate
    = help: try referring to `sa_check_role` crate for guidance on how handle this unexpected cfg
    = help: the attribute macro `sa_check_role` may come from an old version of the `sa_token_macro` crate, try updating your dependency with `cargo update -p sa_token_macro`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: this warning originates in the attribute macro `sa_check_role` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `sa-token-metadata`
   --> src/main.rs:344:1
    |
344 | #[sa_check_role("admin")]
    | ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: expected values for `feature` are: `default`, `memory`, `redis`, and `sa-token-storage-redis`
    = note: using a cfg inside a attribute macro will use the cfgs from the destination crate and not the ones from the defining crate
    = help: try referring to `sa_check_role` crate for guidance on how handle this unexpected cfg
    = help: the attribute macro `sa_check_role` may come from an old version of the `sa_token_macro` crate, try updating your dependency with `cargo update -p sa_token_macro`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: this warning originates in the attribute macro `sa_check_role` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `sa-token-metadata`
   --> src/main.rs:363:1
    |
363 | #[sa_check_role("admin")]
    | ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: expected values for `feature` are: `default`, `memory`, `redis`, and `sa-token-storage-redis`
    = note: using a cfg inside a attribute macro will use the cfgs from the destination crate and not the ones from the defining crate
    = help: try referring to `sa_check_role` crate for guidance on how handle this unexpected cfg
    = help: the attribute macro `sa_check_role` may come from an old version of the `sa_token_macro` crate, try updating your dependency with `cargo update -p sa_token_macro`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: this warning originates in the attribute macro `sa_check_role` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `sa-token-metadata`
   --> src/main.rs:383:1
    |
383 | #[sa_check_role("admin")]
    | ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: expected values for `feature` are: `default`, `memory`, `redis`, and `sa-token-storage-redis`
    = note: using a cfg inside a attribute macro will use the cfgs from the destination crate and not the ones from the defining crate
    = help: try referring to `sa_check_role` crate for guidance on how handle this unexpected cfg
    = help: the attribute macro `sa_check_role` may come from an old version of the `sa_token_macro` crate, try updating your dependency with `cargo update -p sa_token_macro`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: this warning originates in the attribute macro `sa_check_role` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `sa-token-metadata`
   --> src/main.rs:388:1
    |
388 | #[sa_check_role("admin")]
    | ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: expected values for `feature` are: `default`, `memory`, `redis`, and `sa-token-storage-redis`
    = note: using a cfg inside a attribute macro will use the cfgs from the destination crate and not the ones from the defining crate
    = help: try referring to `sa_check_role` crate for guidance on how handle this unexpected cfg
    = help: the attribute macro `sa_check_role` may come from an old version of the `sa_token_macro` crate, try updating your dependency with `cargo update -p sa_token_macro`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: this warning originates in the attribute macro `sa_check_role` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `sa-token-metadata`
   --> src/main.rs:402:1
    |
402 | #[sa_check_permissions_and("user:read", "user:write")]
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: expected values for `feature` are: `default`, `memory`, `redis`, and `sa-token-storage-redis`
    = note: using a cfg inside a attribute macro will use the cfgs from the destination crate and not the ones from the defining crate
    = help: try referring to `sa_check_permissions_and` crate for guidance on how handle this unexpected cfg
    = help: the attribute macro `sa_check_permissions_and` may come from an old version of the `sa_token_macro` crate, try updating your dependency with `cargo update -p sa_token_macro`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: this warning originates in the attribute macro `sa_check_permissions_and` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `sa-token-metadata`
   --> src/main.rs:415:1
    |
415 | #[sa_ignore]
    | ^^^^^^^^^^^^
    |
    = note: expected values for `feature` are: `default`, `memory`, `redis`, and `sa-token-storage-redis`
    = note: using a cfg inside a attribute macro will use the cfgs from the destination crate and not the ones from the defining crate
    = help: try referring to `sa_ignore` crate for guidance on how handle this unexpected cfg
    = help: the attribute macro `sa_ignore` may come from an old version of the `sa_token_macro` crate, try updating your dependency with `cargo update -p sa_token_macro`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: this warning originates in the attribute macro `sa_ignore` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: fields `password`, `nickname`, and `email` are never read
  --> src/auth.rs:27:9
   |
25 | pub struct RegisterRequest {
   |            --------------- fields in this struct
26 |     pub username: String,
27 |     pub password: String,
   |         ^^^^^^^^
28 |     pub nickname: String,
   |         ^^^^^^^^
29 |     pub email: Option<String>,
   |         ^^^^^
   |
   = note: `RegisterRequest` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis
   = note: `#[warn(dead_code)]` on by default

warning: field `action` is never read
  --> src/auth.rs:54:9
   |
52 | pub struct ManageUserRequest {
   |            ----------------- field in this struct
53 |     pub user_id: String,
54 |     pub action: String,
   |         ^^^^^^
   |
   = note: `ManageUserRequest` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: associated function `error` is never used
  --> src/auth.rs:85:12
   |
76 | impl<T> ApiResponse<T> {
   | ---------------------- associated function in this implementation
...
85 |     pub fn error(message: impl Into<String>) -> Self {
   |            ^^^^^

warning: variant `BadRequest` is never constructed
   --> src/auth.rs:101:5
    |
 98 | pub enum ApiError {
    |          -------- variant in this enum
...
101 |     BadRequest(String),
    |     ^^^^^^^^^^
    |
    = note: `ApiError` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: fields `url` and `prefix` are never read
  --> src/conf.rs:16:9
   |
15 | pub struct RedisConfig {
   |            ----------- fields in this struct
16 |     pub url: String,
   |         ^^^
17 |     pub prefix: Option<String>,
   |         ^^^^^^
   |
   = note: `RedisConfig` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: `actix-web-example` (bin "actix-web-example") generated 20 warnings
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 3.62s
     Running `target/debug/actix-web-example`
2025-11-08T17:12:02.184598Z  INFO ğŸš€ å¯åŠ¨ sa-token-rust Actix-web å®Œæ•´ç¤ºä¾‹
2025-11-08T17:12:02.184786Z  INFO ğŸš€ Starting sa-token-rust Actix-web complete example
2025-11-08T17:12:02.184923Z  INFO ä½¿ç”¨å†…å­˜å­˜å‚¨
2025-11-08T17:12:02.184929Z  INFO Using memory storage
2025-11-08T17:12:02.185028Z  INFO  Sa-Token initialized successfully
2025-11-08T17:12:02.185056Z  INFO ğŸ” åˆå§‹åŒ–æµ‹è¯•ç”¨æˆ·æƒé™ï¼ˆä½¿ç”¨ StpUtilï¼‰...
2025-11-08T17:12:02.185064Z  INFO ğŸ” Initializing test user permissions (using StpUtil)...
2025-11-08T17:12:02.185181Z  INFO   âœ“ admin: æƒé™=[user:*, system:*, admin:*], è§’è‰²=[admin, user]
2025-11-08T17:12:02.185187Z  INFO   âœ“ admin: permissions=[user:*, system:*, admin:*], roles=[admin, user]
2025-11-08T17:12:02.185195Z  INFO   âœ“ user: æƒé™=[user:list, user:view, profile:edit], è§’è‰²=[user]
2025-11-08T17:12:02.185201Z  INFO   âœ“ user: permissions=[user:list, user:view, profile:edit], roles=[user]
2025-11-08T17:12:02.185208Z  INFO   âœ“ guest: æƒé™=[user:view], è§’è‰²=[guest]
2025-11-08T17:12:02.185213Z  INFO   âœ“ guest: permissions=[user:view], roles=[guest]
2025-11-08T17:12:02.185218Z  INFO âœ… æƒé™åˆå§‹åŒ–å®Œæˆï¼
2025-11-08T17:12:02.185222Z  INFO âœ… Permissions initialization completed!

2025-11-08T17:12:02.185643Z  INFO starting 10 workers
2025-11-08T17:12:02.185723Z  INFO Actix runtime found; starting in Actix runtime
2025-11-08T17:12:02.185743Z  INFO starting service: "actix-web-service-0.0.0.0:3000", workers: 10, listening on: 0.0.0.0:3000
2025-11-08T17:12:19.729931Z  INFO âœ… ç”¨æˆ· admin ç™»å½•æˆåŠŸï¼Œæƒé™: ["user:list", "user:create", "user:update", "user:delete", "system:config", "system:log", "admin:*"], è§’è‰²: ["admin", "user"]
2025-11-08T17:12:19.730193Z  INFO âœ… User admin logged in successfully, permissions: ["user:list", "user:create", "user:update", "user:delete", "system:config", "system:log", "admin:*"], roles: ["admin", "user"]
2025-11-08T17:12:19.730351Z  INFO 127.0.0.1 "POST /api/login HTTP/1.1" 200 211 "-" "curl/8.7.1" 0.000990
2025-11-08T17:12:28.423809Z  INFO 127.0.0.1 "GET /api/user/profile HTTP/1.1" 200 52 "-" "curl/8.7.1" 0.000105
2025-11-08T17:13:29.603005Z  INFO âœ… ç”¨æˆ· admin ç™»å½•æˆåŠŸï¼Œæƒé™: ["user:list", "user:create", "user:update", "user:delete", "system:config", "system:log", "admin:*"], è§’è‰²: ["admin", "user"]
2025-11-08T17:13:29.603175Z  INFO âœ… User admin logged in successfully, permissions: ["user:list", "user:create", "user:update", "user:delete", "system:config", "system:log", "admin:*"], roles: ["admin", "user"]
2025-11-08T17:13:29.603585Z  INFO 127.0.0.1 "POST /api/login HTTP/1.1" 200 211 "-" "PostmanRuntime-ApipostRuntime/1.1.0" 0.001223
2025-11-08T17:13:37.042723Z  INFO 127.0.0.1 "GET /api/user/profile HTTP/1.1" 200 52 "-" "PostmanRuntime-ApipostRuntime/1.1.0" 0.000205
2025-11-08T17:13:43.482316Z  INFO 127.0.0.1 "GET /api/user/profile HTTP/1.1" 401 55 "-" "PostmanRuntime-ApipostRuntime/1.1.0" 0.000402
2025-11-08T17:14:13.486959Z  INFO SIGTERM received; starting graceful shutdown
2025-11-08T17:14:13.487271Z  INFO shutting down idle worker
2025-11-08T17:14:13.487722Z  INFO shutting down idle worker
2025-11-08T17:14:13.487909Z  INFO shutting down idle worker
2025-11-08T17:14:13.488086Z  INFO shutting down idle worker
2025-11-08T17:14:13.488104Z  INFO shutting down idle worker
2025-11-08T17:14:13.488304Z  INFO shutting down idle worker
2025-11-08T17:14:13.488708Z  INFO shutting down idle worker
2025-11-08T17:14:13.488738Z  INFO shutting down idle worker
2025-11-08T17:14:13.488961Z  INFO shutting down idle worker
2025-11-08T17:14:13.488979Z  INFO shutting down idle worker
2025-11-08T17:14:13.489161Z  INFO accept thread stopped
